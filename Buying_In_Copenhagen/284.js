(self.webpackChunklite=self.webpackChunklite||[]).push([[284],{52957:(e,n,t)=>{"use strict";t.d(n,{T:()=>s});var i=t(63038),a=t.n(i),o=t(67294),r=t(42933),l=t(75209),d=t(27108),s=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,s=e.withPadding,c=void 0!==s&&s,u=e.maxWidthSize,m=void 0===u?"inset":u,p=e.children,g=o.useRef(null),v=o.useRef(null),f=o.useState(!1),k=a()(f,2),E=k[0],h=k[1];o.useEffect((function(){var e=function(){var e,n,t=null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().y,i=null===(n=v.current)||void 0===n?void 0:n.getBoundingClientRect().y;t&&i&&h(Boolean(i-t))};if(e(),t)return d.V6.on("scroll",e),function(){d.V6.off("scroll",e)}}),[t]);var x=t&&E;return o.createElement(o.Fragment,null,o.createElement(r.x,{ref:v}),o.createElement(r.x,{ref:g,position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:x?"BACKGROUND":i,borderTop:x?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},o.createElement(r.x,{padding:x||c?"8px 0":void 0},o.createElement(l.P,{size:m},p))))}},66921:(e,n,t)=>{"use strict";t.d(n,{B:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicPill_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}},87508:(e,n,t)=>{"use strict";t.d(n,{cu:()=>Ee,Y6:()=>ke,rU:()=>fe});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(42933),d=t(67122),s=function(e){var n=e.children;return r.createElement(r.Fragment,null,r.createElement(l.x,{marginTop:"-240px",background:"linear-gradient(".concat((0,d.l9)(0),",\n        ").concat((0,d.l9)(.5),",\n        ").concat((0,d.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),r.createElement(l.x,{backgroundColor:"BACKGROUND"},r.createElement(l.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},n)))},c=t(51562),u=t(32149),m=t(71542),p=t(76532),g=t(32589),v=t(324),f=t(62181),k=t(11852),E=t(75209),h=t(55099),x=t(17614),y=t(98024),S=t(95760),b=t(51512),w=t(2874),I=t(85277),P=t(67297),N=t(6522),C=t(96879),_=t(27952);function F(){var e=a()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return F=function(){return e},e}var A="entity-driven-sub-member-only-wall",T=function(e){return(0,p.H)().value?null:r.createElement(l.x,{display:"flex",justifyContent:"center"},r.createElement(y.F,{scale:"L"},r.createElement(l.x,{display:"flex",flexDirection:"row",xs:{paddingBottom:"20px"},sm:{paddingBottom:"20px"},md:{paddingBottom:"40px"},lg:{paddingBottom:"40px"},xl:{paddingBottom:"40px"}},r.createElement(l.x,{paddingRight:"4px"},"Already a member?"),r.createElement(f.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_member_only_wall",post:e},"Sign in"))))},R=function(e){var n,t,i,a,o=e.post,d=(0,I.w)(),u=(0,S.Av)(),f=(0,P.v9)((function(e){return e.config.authDomain})),w=(0,P.v9)((function(e){return e.config.productName})),F=(0,p.H)().value,R=(0,g.Pd)(null==o?void 0:o.creator).viewerEdge,O=null==o?void 0:o.creator,B=null!==(n=null==R?void 0:R.isAllowEdsEnabled)&&void 0!==n&&n,D=null!==(t=null==F?void 0:F.mediumMemberAt)&&void 0!==t&&t,M=null!==(i=null==R?void 0:R.isUser)&&void 0!==i&&i,L=(null==O?void 0:O.id)||"",U=null==O?void 0:O.name,j=(0,_.o2w)(f,null==o?void 0:o.id),W=null!==(a=null==O?void 0:O.imageId)&&void 0!==a?a:N.gG,V=M&&B&&D,H=r.useCallback((function(){u.event("entityDrivenSubCallToAction.clicked",{userId:null==F?void 0:F.id,entityId:L}),V&&d({message:"You're already a ".concat(w," member."),toastStyle:"MESSAGE"})}),[O,F,f]),z=(0,C.Rk)((0,_.c5p)(f),{subscribeToUserId:L}),G=null!=F&&F.mediumMemberAt?j:z,K=F?"li-".concat(A):"lo-".concat(A);return r.createElement(v.N8,null,r.createElement(s,null,r.createElement(b.cW,{source:{name:"entity_driven_subscription_member_only_wall",postId:o.id,susiEntry:"entity_driven_subscription_member_only_wall"}},r.createElement(l.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(l.x,{display:"flex",flexDirection:"column",padding:"20px 0",sm:{paddingTop:"28px",paddingBottom:"32px",textAlign:"center"},maxWidth:"680px"},r.createElement(E.P,{size:"full"},r.createElement(l.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},r.createElement(m.s,null,r.createElement(k.z,{miroId:W,alt:U||"",diameter:80,freezeGifs:!1})),r.createElement(m.e,null,r.createElement(k.z,{miroId:W,alt:U||"",diameter:80,freezeGifs:!1}))),r.createElement(l.x,{paddingBottom:"20px"},r.createElement(x.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(c.W,{featureString:K,target:"title-copy"},F?"".concat(F.name,", read more from ").concat(U," — and everything else on Medium."):"Read more from ".concat(U," — and everything else on Medium.")))),r.createElement(l.x,{paddingBottom:"20px"},r.createElement(y.F,{scale:"L",color:"DARKER"},r.createElement(c.W,{featureString:K,target:"description-copy"},U," has made this story exclusive to members. Upgrade to keep reading."))),r.createElement(l.x,{paddingBottom:"20px"},r.createElement(h.z,{size:"LARGE",onClick:H,buttonStyle:"STRONG",href:G},"Upgrade")),r.createElement(T,{post:o})))))))},O=(0,o.Ps)(F(),u.G,w._k),B=t(12291),D=t(53976),M=t(36511),L=t(37258),U=t(19608),j=t(27168),W=t(48881),V=t(62876),H=t(96907),z=t(33572);function G(){var e=a()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return G=function(){return e},e}var K=function(e){var n=e.optimizelyFeatureString,t=e.post,i=e.showTrialPaywall,a=e.authDomain,o=(0,p.H)().value;return r.createElement(b.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},r.createElement(H.M,null,r.createElement(l.x,{display:"inline-block",textAlign:"center"},r.createElement(c.W,{featureString:n,target:i?"trial-upsell-button":"upsell-button-".concat(o&&o.hasPastMemberships?"resume-membership":"upgrade")},r.createElement(V.a,{isButton:!0,buttonStyle:i?"BRAND":"STRONG",width:i||o&&o.hasPastMemberships?"182px":"104px",redirectUrl:(0,_.c5p)(a)},i?"Start your free trial":o&&o.hasPastMemberships?"Resume membership":"Upgrade")))))},$=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=(0,B.I0)();return r.createElement(b.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},r.createElement(l.x,{display:"flex",sm:{flexDirection:"column"}},r.createElement(l.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?r.createElement(U.r,{userSocialLogins:t}):r.createElement(L.o,{onSuccess:function(){return i((0,I.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return r.createElement(h.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&r.createElement(l.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},r.createElement(y.F,{scale:"M"},r.createElement(j.G,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},q=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=e.suggestedAccountEventData,a=e.showSuggestedAccount,o=e.postId;return r.createElement(b.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:o}},r.createElement(H.M,{eventData:i},r.createElement(l.x,{display:"inline-block",textAlign:"center"},r.createElement($,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:t}),r.createElement(l.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},r.createElement(y.F,{scale:"L"},r.createElement(V.a,{eventData:i,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},Y=function(e){var n=e.post,t=e.excludePadding,i=void 0!==t&&t,a=(0,P.v9)((function(e){return e.config.authDomain})),o=(0,P.v9)((function(e){return e.config.productName})),d=(0,p.H)().value,u=(0,M.r)().viewerId,m=(0,S.Av)(),g=null==d?void 0:d.isMembershipTrialEligible,f=!(!(0,D.VB)({name:"enable_trial_upsell",placeholder:!1})||!g),k=!!(0,D.VB)({name:"optimizely_holdback",placeholder:!1});r.useEffect((function(){g&&m.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[g]);var E="paywall";return r.createElement(v.N8,null,r.createElement(s,null,r.createElement(W.o,{postRenderCallback:function(){}},(function(e){var t,s=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,g=e.userSocialLogins;return s?r.createElement(r.Fragment,null):(m&&(E="suggested-account-paywall"),m&&(t={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,z.S)(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:u}),r.createElement(r.Fragment,null,r.createElement(c.W,{featureString:E,target:f?"trial-background-color":"background-color"},r.createElement(l.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(l.x,{display:"flex",flexDirection:"column",padding:i?"48px 0 0":"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},r.createElement(c.W,{featureString:E,target:f?"webCCTrialHeading":"fewerClicksHeading"},r.createElement(x.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,t,i){var a=i.showSuggestedAccount,o=i.showTrialPaywall,d=i.inHoldback,s=n?(0,z.J)(n):null;return s=s&&s.length<=13?s:null,a?"Switch to your member account for unlimited reading.":o?r.createElement(l.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},s?"".concat(s,", keep reading."):"Keep reading."):r.createElement(l.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},d?"How to read this story — and everything else on ".concat(e,"."):s?t?"".concat(s,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(s,", here's how to read this story — and everything else on ").concat(e,"."):t?"How to read this story from ".concat(t," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(o,d&&d.name,n.creator&&n.creator.name,{showSuggestedAccount:m,showTrialPaywall:f,inHoldback:k}))),r.createElement(y.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!f&&r.createElement(r.Fragment,null,r.createElement(c.W,{featureString:E,target:"second-header-fewer-clicks"},r.createElement(l.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),r.createElement(l.x,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},r.createElement(K,{optimizelyFeatureString:E,post:n,showTrialPaywall:f,authDomain:a}))),r.createElement(c.W,{featureString:E,target:f?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},r.createElement(l.x,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,t,i){var a=t.showTrialPaywall;if(t.showSuggestedAccount&&n){var o=n.isMember,d=n.redactedEmailAddress;return r.createElement(r.Fragment,null,"Looks like you're coming from the ",o&&"member ","account"," ",r.createElement("b",null,d)," but you’re signed in as ",r.createElement("b",null,null==i?void 0:i.email),". Switch to your",o?" member account for unlimited access":" account",".")}return r.createElement(l.x,{marginTop:"28px",marginBottom:"28px",textAlign:a?"center":"left"},a?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):r.createElement(r.Fragment,null,r.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",r.createElement("br",null),r.createElement("br",null),r.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(o,g,{showSuggestedAccount:m,showTrialPaywall:f},d)))),!!m&&g&&r.createElement(q,{declineSuggestedAccount:p,userSocialLogins:g,suggestedAccountEventData:t,showSuggestedAccount:m,postId:n.id}),f&&!m&&r.createElement(K,{optimizelyFeatureString:E,post:n,showTrialPaywall:f,authDomain:a}))))))}))))},Q=(0,o.Ps)(G()),J=t(6401),X=t(66893),Z=t(5731),ee=t(59317),ne=t(81405),te=t(90174),ie=t(4134),ae=t(6688),oe=t(37581);function re(){var e=a()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return re=function(){return e},e}function le(){var e=a()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return le=function(){return e},e}var de="post_regwall",se=function(e){var n=e.enablePasswords,t=e.meterCount,i=e.optimizelyFeatureString,a=e.postId,o={operation:"register"},d=(0,ee.j)().openModal,s=function(e){var t=e.children;return n?r.createElement(c.W,{featureString:i,target:"google-button"},t):t};return r.createElement(l.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(c.W,{featureString:i,target:"google-button"},r.createElement(l.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},r.createElement(oe.$,{eventData:{meterCount:t,operation:o.operation,postId:a}},r.createElement(ie.x,o)))),r.createElement(s,null,r.createElement(l.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},r.createElement(oe.$,{eventData:{meterCount:t,operation:o.operation,postId:a}},n?r.createElement(ne.R,{goToEmailAuthStep:function(){d({step:"ENTER_EMAIL",susiEntry:de,operation:"register"})},operation:"register"}):r.createElement(te.q,o)))))},ce=function(e){var n=e.meteringInfo,t=e.post,i=e.isSidebarRecircDisplayed,a=(0,S.Av)(),o=!!(0,X.P5)("enable_passwords"),d="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,u="".concat(d?"syndicated-":"","regwall"),m=(0,ae.I)();return r.useEffect((function(){a.event("meter.viewed",{meterCount:null==n?void 0:n.postIds.length,postId:t.id,uiType:d?Z.j.SyndicatedRegwall:Z.j.RegWall})}),[]),r.createElement(v.N8,null,r.createElement(b.cW,{source:{postId:t.id,susiEntry:de}},r.createElement(s,null,r.createElement(c.W,{featureString:u,target:"background-color"},i&&r.createElement("div",{className:m({backgroundColor:"#fff",width:"400px",height:"358px",position:"absolute",right:0,display:{xs:"none",sm:"none"}})}),r.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},r.createElement(l.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},r.createElement(c.W,{featureString:u,target:"heading"},r.createElement(x.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(l.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),r.createElement(l.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),r.createElement(y.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},r.createElement(l.x,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),r.createElement(l.x,{display:"none",sm:{display:"block"}},r.createElement(l.x,{margin:"".concat(o?"40px":"42px"," 0")},r.createElement(J.a,{isButton:!0,postId:t.id,appEntry:"regwall"})),r.createElement(c.W,{featureString:u,target:"skip-app-copy"},r.createElement(l.x,{marginBottom:"-20px"},"Or, continue in mobile web"))),r.createElement(se,{meterCount:null==n?void 0:n.postIds.length,optimizelyFeatureString:u,postId:t.id,enablePasswords:o}),r.createElement(c.W,{featureString:u,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),r.createElement(c.W,{featureString:u,target:"sign-in-link",tag:"span"},r.createElement(f.R9,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:de},"Sign in")))))))))},ue=(0,o.Ps)(le(),f.qU),me=(0,o.Ps)(re()),pe=t(1932);function ge(){var e=a()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return ge=function(){return e},e}function ve(){var e=a()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return ve=function(){return e},e}var fe=(0,o.Ps)(ve(),O,Q,ue),ke=(0,o.Ps)(ge(),me),Ee=function(e){var n=e.post,t=e.meteringInfo,i=e.excludePadding,a=e.isSidebarRecircDisplayed,o=n.id,l=n.isLocked,d=n.isMarkedPaywallOnly,s=n.content.isLockedPreviewOnly,c=(0,S.Av)(),m=(0,p.H)(),g=m.value,v=m.loading,f=(0,pe.n)(o,s).loading,k=!!g,E=(0,D.VB)({name:"enable_member_only_paywall",placeholder:!1}),h=(0,u.$)("entity_driven_subscription_milestone_2",null==n?void 0:n.creator);if(r.useEffect((function(){!h||null!=g&&g.mediumMemberAt||c.event("experiment.eligible",{experimentId:"302c03fdc015"})}),[h,g]),!f&&s){if((d||l)&&h&&E)return r.createElement(R,{post:n});if(k)return r.createElement(Y,{post:n,excludePadding:i});if(!v)return r.createElement(ce,{post:n,meteringInfo:t,isSidebarRecircDisplayed:a})}return null}},15789:(e,n,t)=>{"use strict";t.d(n,{bl:()=>B,Uw:()=>R,mW:()=>T});var i=t(67154),a=t.n(i),o=t(63038),r=t.n(o),l=t(28655),d=t.n(l),s=t(46829),c=t(71439),u=t(67294),m=t(25415),p=t(40820),g=t(69677),v=t(72846),f=t(91442),k=t(59713),E=t.n(k),h=t(11642);function x(){var e=d()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return x=function(){return e},e}function y(){var e=d()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return y=function(){return e},e}function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){E()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var I=(0,c.Ps)(y()),P=(0,c.Ps)(x()),N=t(76532),C=t(44059);function _(){var e=d()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}function F(){var e=d()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return F=function(){return e},e}function A(){var e=d()(["\n  fragment InteractivePostBody_postPreview on Post {\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 100\n        minimumWordLengthForTruncation: 150\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n        shortformPreviewParagraphsWordCountThreshold: 30\n        shortformMinimumWordLengthForTruncation: 30\n      }\n    ) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n      isFullContent\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var T=(0,c.Ps)(A(),v.Pk),R=(0,c.Ps)(F(),p.iF,f.iB,P,v.Pk,v.v),O=(0,c.Ps)(_(),p.UW,f.g8,v.XV,v.w6,I),B=u.forwardRef((function(e,n){var t,i,o,l=e.activeGrafId,d=e.activeNoteId,c=e.isAuroraPostPageEnabled,k=e.post,E=e.inlinePost,x=e.postBodyInserts,y=e.richTextStyle,S=e.markedUpBodyModel,I=e.shouldHideHighlightAnnotations,P=(0,N.H)().value,_=E&&!k?S||(null==E||null===(t=E.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==k||null===(i=k.content)||void 0===i?void 0:i.bodyModel,F={creator:null==k?void 0:k.creator,isAuroraPostPageEnabled:c,postBodyInserts:x,ref:n,richTextStyle:y||"FULL_PAGE"},A=k&&k.creator&&k.creator.allowNotes||!1,T=(0,s.useLazyQuery)(O,{ssr:!1,variables:{postId:(null==k?void 0:k.id)||"",showNotes:A},notifyOnNetworkStatusChange:!0}),R=r()(T,2),B=R[0],D=R[1],M=D.called,L=D.data,U=null==L?void 0:L.post;if(u.useEffect((function(){k&&!M&&B()}),[k]),!_)return C.t.log("Expected post to have content or preview content."),null;var j=(null==k||null===(o=k.content)||void 0===o?void 0:o.bodyModel)&&(null==k?void 0:k.content.bodyModel.paragraphs)||[],W=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!o)return null;var r=w(a.text,i,t),l=w(o.text,i,t);if(!r||!l)return null;if(r===l)return e;var d=o.text?o.text.indexOf(r):null;if("number"!=typeof d||d<0)return null;var s=d+r.length;return b(b({},e),{},{endOffset:s,startOffset:d})})).filter(h.b):e}(U&&U.highlights||[],j),V=U&&U.privateNotes||null;return u.createElement(g.yb,null,u.createElement(m.KN,{initialActivePrivateNoteId:d,initialActiveGrafName:l},u.createElement(p.Ms,{interactivePost:k,highlights:W,disableSelection:!k},u.createElement(f.U7,{highlights:W,paragraphs:j,viewer:P},u.createElement(v.yO,a()({},F,{bodyModel:_,highlights:W,privateNotes:V,shouldHideHighlightAnnotations:I}))))))}))},56029:(e,n,t)=>{"use strict";t.d(n,{z:()=>s});var i=t(319),a=t.n(i),o=t(32018),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBase_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"editCatalogItemsMutation_bookEditionViewerEdge"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_bookEditionViewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_bookEdition"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"editCatalogItemsMutation_bookEditionViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEditionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_bookEditionViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEditionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}}]))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBase_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithToggleInsideCatalog_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"editCatalogItemsMutation_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useAddItemToPredefinedCatalog_postViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}},{kind:"Field",name:{kind:"Name",value:"version"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"catalogItemIds"}}]}}]}}]}}]),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"WithToggleInsideCatalog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogsContainingThis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"LISTS"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogId"}}]}},{kind:"Field",name:{kind:"Name",value:"predefinedContainingThis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"predefined"}}]}}]}}]}}]}}]))},d=([{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_bookEdition"}}]}}].concat(a()(r.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat(a()(l.definitions))}),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookmarkButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat(a()(o.qU.definitions),a()(d.definitions))}},50188:(e,n,t)=>{"use strict";t.d(n,{kD:()=>v,T8:()=>f,Qw:()=>k});var i,a,o=t(59713),r=t.n(o),l=t(57953),d="post-view",s="post-read",c="topic-view",u="medium-search",m="external-search",p=(i={},r()(i,d,200),r()(i,s,200),r()(i,c,200),r()(i,u,200),r()(i,m,200),i),g=(a={},r()(a,d,new l.Z("pv")),r()(a,s,new l.Z("pr")),r()(a,c,new l.Z("tv")),r()(a,u,new l.Z("ms")),r()(a,m,new l.Z("es")),a),v=function(e){E(d,e,Date.now())},f=function(e){E(s,e,Date.now())},k=function(e){E(c,e,Date.now())},E=function(e,n,t){var i=g[e];i.getCount()===p[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}}},90284:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ExpandablePost:()=>dn,ExpandablePost_meteringInfo:()=>on,ExpandablePost_post:()=>rn});var i=t(67154),a=t.n(i),o=t(59713),r=t.n(o),l=t(63038),d=t.n(l),s=t(28655),c=t.n(s),u=t(82492),m=t.n(u),p=t(17673),g=t(46829),v=t(71439),f=t(67294),k=t(5977),E=t(52957),h=t(75341),x=t(34488),y=t(40917),S=t(87508),b=t(10233),w=t(30570),I=t(4743),P=t(15789),N=t(10963),C=t(42933),_=t(6688),F=["100%","95%","93%","98%","98%"],A=function(){return f.createElement(C.x,{width:"100%"},F.map((function(e,n){return f.createElement(C.x,{key:"placeholder-".concat(n),width:e,height:"16px",marginBottom:"18px",backgroundColor:"BASE_NORMAL"})})))},T=function(){var e=(0,_.I)(),n=(0,N.P)();return f.createElement("div",{className:e((function(){return n}))},f.createElement(A,null))},R=t(82318),O=t(98024),B=t(96879),D=t(27390),M=function(e){return{color:e.baseColor.text.lighter}},L=function(e){var n=e.readingTime,t=e.isLighterText,i=void 0!==t&&t,a=(0,_.I)();if(!n)return null;var o="".concat((0,D.Vd)(n)," min read");return f.createElement("span",{className:i?a(M):void 0},o)},U=function(e){var n=e.onReadMore,t=e.post,i=e.padding,a=void 0===i?"34px 0 0 0":i,o=(0,x.D)(),r=(0,h.SK)(),l=o(t),d=t.readingTime,s=(0,B.Rk)(l,{readmore:"1"});return f.createElement(R.r,{href:s,onClick:n,display:"block"},f.createElement(C.x,{padding:a},f.createElement(O.F,{color:r?"DARKER":"ACCENT",scale:"M"},"Read more · "," ",f.createElement(L,{readingTime:d,isLighterText:r}))))},j=function(e){var n=e.href,t=e.onReadMore,i=(0,_.I)();return f.createElement(R.r,{href:n,onClick:t},f.createElement("div",{className:i((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))},W=t(93912),V=t(50077),H=t(76532),z=t(75209),G=t(57693),K=t(95760),$=t(51512),q=t(15699),Y=t(66210),Q=t(58491),J=t(36891),X=t(14391),Z=t(8403),ee=t(67297),ne=t(32261),te=t(64227),ie=t(19732);function ae(){return(ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var oe=f.createElement("circle",{cx:16,cy:16,r:16,fill:"#A8A8A8"}),re=f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.77 16.48l5.4 5.4.7-.7-5.4-5.4 4.7-4.7-.71-.7-4.69 4.69-4.69-4.7-.7.71 4.68 4.7-5.4 5.4.71.7 5.4-5.4z",fill:"#FAFAFA"});const le=function(e){return f.createElement("svg",ae({width:32,height:32,fill:"none"},e),oe,re)};var de=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer"}},se=function(e){var n=e.expansionRef,t=(0,_.I)(),i=(0,k.k6)(),a=(0,w.sK)(),o=a.setExpandedPostId,r=a.setExpandedPost;return f.createElement(C.x,{position:"sticky",top:"40px",height:"0",textAlign:"right"},f.createElement(C.x,{position:"relative",bottom:"20px"},f.createElement("button",{type:"button",className:t(de),onClick:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().y;t&&t<0&&window.scrollBy(0,t),r(null),o(null),i.goBack()},"aria-label":"Collapse"},f.createElement(le,null))))},ce=t(83687),ue=t(36823),me=t(9292),pe=t(11852),ge=t(6522);function ve(){var e=c()(["\n  fragment ExpandablePostByline_collection on Collection {\n    __typename\n    id\n    name\n    domain\n    slug\n  }\n"]);return ve=function(){return e},e}function fe(){var e=c()(["\n  fragment ExpandablePostByline_user on User {\n    __typename\n    id\n    name\n    username\n    imageId\n    hasSubdomain\n    customDomainState {\n      live {\n        domain\n      }\n    }\n  }\n"]);return fe=function(){return e},e}var ke=function(e){var n=e.publication,t=(0,ce.R)(n);return f.createElement(C.x,{display:"flex"},f.createElement(C.x,{padding:"0 2px"},f.createElement(O.F,{scale:"M"},"in")),f.createElement(R.r,{href:t,display:"inline-block"},f.createElement(O.F,{scale:"M",color:"DARKER",clamp:1},n.name)))},Ee=function(e){var n=e.creator,t=e.collection,i=(0,ue.B)(n);return f.createElement(C.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},f.createElement(R.r,{href:i},f.createElement(O.F,{scale:"M",color:"DARKER",clamp:1},n.name)),t&&t.name!==n.name&&f.createElement(ke,{publication:t}))},he=function(e){var n=e.creator,t=e.collection,i=e.datePrefix,a=e.href,o=e.publishedAt,r=e.showStar,l=void 0!==r&&r,d=e.showPinned,s=void 0!==d&&d,c=e.showPublisherInfo,u=void 0!==c&&c,m=e.post;return f.createElement(me.Y,{avatar:n&&u&&f.createElement(pe.z,{miroId:n.imageId||ge.gG,alt:n.name||"",diameter:24,freezeGifs:!0}),isOneLine:!0,title:u?f.createElement(Ee,{creator:n,collection:t}):null,description:f.createElement(V.Q5,{datePrefix:i,publishedAt:o,withMidDot:u,href:a,showStar:l,showPinned:s,isOneLine:!0,post:m})})},xe=((0,v.Ps)(fe()),(0,v.Ps)(ve()),t(14345)),ye=t(39186),Se=t(86948),be=t(64578),we=t(21356),Ie=t(33819),Pe=t(72393),Ne=t(53976),Ce=t(14071);function _e(){var e=c()(["\n  fragment ExpandablePostFooter_post on Post {\n    id\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    ...TruncatedPostCardOverflowButton_post\n    ...BookmarkButton_post\n    ...PostFooterSocialPopover_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}var Fe=(0,v.Ps)(_e(),ye.r,Se.z,be.u,we.x),Ae=function(e){var n=e.post,t=e.publisherContext,i=e.isActiveExpandedPost,a=f.useContext(Pe.f).openSidebar,o=(0,w.sK)(),r=o.expandedPostId,l=o.postInView,d=n.clapCount,s=n.mediumUrl,c=n.postResponses,u=Boolean(d),m=(null==c?void 0:c.count)||0,p={post:n,source:"expandable_post_footer"},g=(0,Ne.VB)({name:"enable_seamless_social_sharing",placeholder:!1});return f.createElement(C.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},f.createElement(C.x,{display:"flex",alignItems:"center"},f.createElement(we.S,{post:n,buttonStyle:"SUBTLE_MARGIN",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),f.createElement(C.x,{display:"flex",alignItems:"center",xl:{marginLeft:u?"24px":"12px"},lg:{marginLeft:u?"24px":"12px"},md:{marginLeft:u?"16px":"8px"},sm:{marginLeft:u?"0":"8px"},xs:{marginLeft:u?"0":"8px"},paddingTop:"3px"},f.createElement(R.r,{href:s+"?responsesOpen=true"},f.createElement(C.x,{marginTop:"5px"},f.createElement(Ie.h,{trackingData:{postId:n.id},responsesCount:m,handleClick:l&&r===n.id?function(e){e.preventDefault(),a()}:function(){},allowResponses:n.allowResponses,isLimitedState:n.isLimitedState,responsesCountColor:"DARKER",countStylesOverride:{marginLeft:"4px"}}))))),f.createElement(C.x,{display:"flex",alignItems:"center"},i&&g?f.createElement(Ce.U,p):f.createElement(be.$,p),f.createElement(C.x,{margin:"0 6px 0 7px"},f.createElement(Se.e,{post:n,susiEntry:"bookmark_preview"})),t&&f.createElement(C.x,{marginRight:"-4px"},f.createElement(xe.A,{post:n,publisherContext:t}))))},Te=t(27721),Re=t(80908),Oe=t(55581),Be=t(90038),De=t(79810),Me=t(95248),Le=function(e){var n=e.post,t=e.reason,i=e.publisherContext,a=n.readingTime,o=n.tags,r=o&&o[0];return f.createElement(C.x,{display:"flex",justifyContent:"space-between"},f.createElement(C.x,{display:"flex",flexGrow:"1",flexShrink:"0",alignItems:"center"},r&&f.createElement(C.x,{paddingRight:"8px"},f.createElement(De.Pl,{topic:r,scale:"S"})),f.createElement(C.x,null,f.createElement(O.F,{scale:"S"},f.createElement(L,{readingTime:a}))),t&&f.createElement(f.Fragment,null,f.createElement(C.x,{padding:"0 8px"},f.createElement(Me.O,{scale:"S"})),f.createElement(O.F,{scale:"S"},t))),f.createElement(C.x,{display:"flex"},f.createElement(C.x,{marginRight:"8px"},f.createElement(Se.e,{post:n,susiEntry:"bookmark_preview"})),i&&f.createElement(C.x,null,f.createElement(xe.A,{post:n,publisherContext:i}))))},Ue=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer",textAlign:"left",width:"100%"}},je=function(e){var n,t=e.post,i=e.onReadMore,a=e.onHoverReadMore,o=e.reason,r=e.publisherContext,l=(0,_.I)(),d=t.title,s=t.previewContent;return f.createElement(C.x,null,f.createElement(G.D,{onMouseEnter:a,onMouseLeave:function(){}},f.createElement(C.x,{display:"flex"},f.createElement(C.x,{flexGrow:"1",flexShrink:"1",wordBreak:"break-word"},f.createElement(C.x,null,f.createElement("button",{type:"button",className:l(Ue),onClick:i},d&&f.createElement(C.x,{paddingBottom:{xs:"0",sm:"0",md:"8px",lg:"8px",xl:"8px"}},f.createElement(Re.Dx,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},clamp:2},d)),(null==s?void 0:s.subtitle)&&f.createElement(C.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},f.createElement(Oe.uT,{scale:"XS",clamp:3},s.subtitle)))),f.createElement(C.x,{padding:{xs:"16px 0",sm:"16px 0",md:"32px 0",lg:"32px 0",xl:"32px 0"}},f.createElement(Le,{post:t,reason:o,publisherContext:r}))),(null===(n=t.previewImage)||void 0===n?void 0:n.id)&&f.createElement(C.x,{marginLeft:{xs:"24px",sm:"24px",md:"60px",lg:"60px",xl:"60px"}},f.createElement("button",{type:"button",className:l(Ue),onClick:i},f.createElement(C.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},f.createElement(Te.UV,{alt:t.title||"",miroId:t.previewImage.id,width:112,height:112,strategy:Be._S.Crop})),f.createElement(C.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},f.createElement(Te.UV,{alt:t.title||"",miroId:t.previewImage.id,width:56,height:56,strategy:Be._S.Crop})))))))},We=function(){return{opacity:1}},Ve=function(){return{position:"absolute",left:0,right:0,opacity:"0",height:0,overflow:"hidden",transition:"opacity 50ms ease-out"}},He=function(){return{transition:"opacity 300ms ease-in",transitionDelay:"50ms",opacity:1}},ze=function(){return{opacity:"0",height:0,overflow:"hidden",transition:"opacity 0ms ease-in",transitionDelay:"0s"}},Ge=function(e){var n=e.post,t=e.publisherContext,i=e.reason,a=e.showContent,o=void 0!==a&&a,r=e.showPreview,l=e.children,d=e.onReadMore,s=e.onHoverReadMore,c=(0,_.I)();if(!r)return l;var u=o?[He]:[He,ze],m=o?[We,Ve]:[We];return f.createElement(C.x,null,f.createElement(C.x,{position:"relative"},f.createElement("div",{className:c(m)},f.createElement(je,{post:n,publisherContext:t,reason:i,onReadMore:d,onHoverReadMore:s}))),f.createElement("div",{className:c(u)},l))},Ke=t(55001),$e=t(21204);function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qe(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Qe(){var e=c()(["\n  query ExpandablePostExpandedQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    postResult(id: $postId) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n          slug\n        }\n        content(postMeteringOptions: $postMeteringOptions) {\n          bodyModel {\n            paragraphs {\n              name\n              text\n            }\n          }\n        }\n        ...InteractivePostBody_post\n        ...Wall_post\n        ...ExpandablePost_post\n        ...InlineExpansionContext_post\n        ...PostReadTracker_post\n      }\n    }\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...Wall_meteringInfo\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Qe=function(){return e},e}function Je(){var e=c()(["\n  fragment ExpandablePost_post on Post {\n    id\n    creator {\n      ...CardByline_user\n    }\n    collection {\n      ...CardByline_collection\n    }\n    ...InteractivePostBody_postPreview\n    firstPublishedAt\n    isLocked\n    isSeries\n    isShortform\n    latestPublishedAt\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    sequence {\n      slug\n    }\n    title\n    uniqueSlug\n    visibility\n    inResponseToPostResult {\n      ...InResponseToEntityPreview_postResult\n    }\n    inResponseToCatalogResult {\n      ...InResponseToEntityPreview_catalogResult\n    }\n    ...CardByline_post\n    ...ExpandablePostFooter_post\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...InResponseToEntityPreview_mediaResource\n    ...ReadMore_post\n    ...HighDensityPreview_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Je=function(){return e},e}function Xe(){var e=c()(["\n  fragment ExpandablePost_meteringInfo on MeteringInfo {\n    ...Wall_meteringInfo\n  }\n  ","\n"]);return Xe=function(){return e},e}var Ze=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},en={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},nn={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},tn=[X.NJ.H3,X.NJ.H4],an=[X.NJ.IMG,X.NJ.IFRAME],on=(0,v.Ps)(Xe(),S.Y6),rn=(0,v.Ps)(Je(),V.yu,P.mW,V.br,Fe,q.h,Y.k,V.We,b.uy,b.lh,b.NY,$e.q,Ke.U),ln=(0,v.Ps)(Qe(),P.Uw,S.rU,rn,w.q9,Q.W,S.Y6),dn=function(e){var n,t,i,o,l,s,c=e.post,u=e.excludeMargin,v=void 0!==u&&u,N=e.includeTopDivider,F=void 0===N||N,A=e.includeBottomDivider,R=void 0!==A&&A,O=e.isFirst,D=void 0!==O&&O,M=e.publisher,L=e.hideAuthor,X=void 0!==L&&L,ae=e.index,oe=e.maxWidthSize,re=void 0===oe?"inset":oe,le=e.showInResponseToEntityPreview,de=void 0!==le&&le,ce=e.mayShowPinned,ue=void 0!==ce&&ce,me=e.showHighDensityPreview,pe=void 0!==me&&me,ge=e.highDensityPreviewReason,ve=e.showBylinePublisherInfo,fe=void 0!==ve&&ve,ke=!!(0,H.H)().value,Ee=(0,h.SK)(),xe=Ee?"app":re,ye=f.useRef(null),Se=f.useRef(null),be=f.useRef(null),we=f.useState(!1),Ie=d()(we,2),Pe=Ie[0],Ne=Ie[1],Ce=(0,w.sK)(),_e=Ce.expandedPostId,Fe=Ce.setExpandedPostId,Te=Ce.expandedPost,Re=Ce.setExpandedPost,Oe=Ce.setPostInView,Be=(null==Te?void 0:Te.id)===c.id,De=(0,_.I)(),Me=(0,K.Av)(),Le=(0,Z.G1)(),Ue=(0,$.Lk)(),je=Ye(Ye({},Ue),{},{index:ae}),We=(0,Z.he)(),Ve=(0,ee.v9)((function(e){return e.navigation.referrer}));Be&&(Ve=We);var He=(0,x.D)(),ze=(0,$.f0)(je),Ke=(0,B.Rk)(He(c),{source:ze});(0,Q.t)(ke,ye,Te,Be);var $e=f.useRef(null);(0,Y.V)($e,c,Be);var qe=c.id,Qe=c.collection,Je=c.extendedPreviewContent,Xe=c.isLocked,on=c.firstPublishedAt,rn=c.latestPublishedAt,dn=c.mediumUrl,sn=c.pinnedAt,cn=c.pinnedByCreatorAt,un=c.visibility,mn=c.inResponseToPostResult,pn=c.inResponseToMediaResource,gn=c.inResponseToCatalogResult,vn=(0,k.k6)(),fn=(0,Z.PM)();Ue&&Be&&(fn=(0,$.f0)(Ue));var kn={referrer:Ve,sk:Le,source:fn},En=(0,g.useLazyQuery)(ln,{variables:{postId:c.id,postMeteringOptions:kn}}),hn=d()(En,2),xn=hn[0],yn=hn[1],Sn=yn.called,bn=yn.data,wn=yn.loading,In=yn.error,Pn=null==bn?void 0:bn.meterPost;f.useEffect((function(){if(!wn&&_e===c.id){var e=new URL(Ke).pathname;if(In)vn.push({pathname:e});else if(Sn){var n=null==bn?void 0:bn.postResult;if((0,ie.f)(n)){try{var t=function(e,n){var t,i,a,o,r,l,d,s;if(null==e||null===(t=e.extendedPreviewContent)||void 0===t||null===(i=t.bodyModel)||void 0===i||null===(a=i.paragraphs)||void 0===a||!a.length)throw new Error("Expected post to have preview content.");var c=new Map;null!=e&&null!==(o=e.extendedPreviewContent)&&void 0!==o&&null!==(r=o.bodyModel)&&void 0!==r&&null!==(l=r.paragraphs)&&void 0!==l&&l.length&&e.extendedPreviewContent.bodyModel.paragraphs.forEach((function(e){c.set(e.name,e)}));var u=[],p=[];null!=e&&null!==(d=e.content)&&void 0!==d&&null!==(s=d.bodyModel)&&void 0!==s&&s.paragraphs&&e.content.bodyModel.paragraphs.forEach((function(e){var n,t=c.get(e.name);t&&t.text.length===(null===(n=e.text)||void 0===n?void 0:n.length)?u.push(t):p.push(e)}));var g=[].concat(u,p);return m()({},e,{content:Ye(Ye(Ye({},e.extendedPreviewContent),e.content),{},{isFullContent:!0,bodyModel:Ye(Ye(Ye({},e.extendedPreviewContent.bodyModel),e.content.bodyModel),{},{paragraphs:(0,y.e)(g,n,!1)})})})}(n,Ke);Fe(t.id),Re(t)}catch(n){vn.push({pathname:e})}Ne(!1)}else vn.push({pathname:e})}else xn()}}),[_e,Sn,wn,bn,In,Ke]),f.useEffect((function(){var e,n;Be&&Me.event("post.clientViewed",{postId:c.id,collectionId:null===(e=c.collection)||void 0===e?void 0:e.id,collectionSlug:null===(n=c.collection)||void 0===n?void 0:n.slug,context:2,source:"post_page"},{referrer:Ve,referrerSource:fn})}),[Be]);var Nn=f.useCallback((function(e){var n;e.preventDefault(),Ne(!0);var t=null===(n=Se.current)||void 0===n?void 0:n.getBoundingClientRect();null!=t&&t.top&&(be.current=t.top),Fe(c.id)}),[]),Cn=f.useCallback((function(){Sn||xn()}),[Sn]);(0,te.L)((function(){var e,n=null===(e=Se.current)||void 0===e?void 0:e.getBoundingClientRect();if(null!=Te&&Te.id&&Be&&n){var t=n.top-(be.current||0);Boolean(t)&&window.scrollBy(0,t)}}),[null==Te?void 0:Te.id,Be]);var _n=vn.location,Fn=f.useCallback((function(e){if(null!=Te&&Te.id&&e){var n=new URL(Ke).pathname,t=(0,p.parse)(_n.search.slice(1)).p===c.id||n===_n.pathname,i=!!e.intersectionRatio;if(!i&&t)return Oe(!1),void vn.goBack();if(i&&!t){var a,o,r=(null===(a=_n.state)||void 0===a?void 0:a.preExpandedLocation)||_n,l={pathname:_n.pathname,search:"?p=".concat(Te.id),state:{preExpandedLocation:r}};return Ee&&(l={pathname:n,state:{preExpandedLocation:r}}),window.history.scrollRestoration="manual",Oe(!0),void(null!==(o=_n.state)&&void 0!==o&&o.preExpandedLocation?vn.replace(l):vn.push(l))}}}),[c.id,null==Te?void 0:Te.id,vn,_n,Ke]),An=f.useCallback((function(){return!Be}),[Be]);if((0,J.S)({onIntersect:Fn,target:Se,disconnect:An},[Be,Fn]),null==c||null===(n=c.extendedPreviewContent)||void 0===n||!n.bodyModel)return null;var Tn=null==c||null===(t=c.extendedPreviewContent)||void 0===t?void 0:t.bodyModel;if(!Tn)return null;var Rn=Ye(Ye({},Tn),{},{paragraphs:(0,y.e)(Tn.paragraphs,Ke)}),On=!!sn&&!!rn,Bn=On?rn:on,Dn=On?"Updated ":"",Mn=!(null==c||null===(i=c.extendedPreviewContent)||void 0===i||!i.isFullContent),Ln=F&&!D&&f.createElement("hr",{className:De(Ze)}),Un=R&&f.createElement("hr",{className:De(Ze)}),jn=Ee?{}:D?en:nn,Wn={postId:qe,collectionId:null==Qe?void 0:Qe.id,isFullPost:null==Je?void 0:Je.isFullContent,postVisibility:(0,W.z)(un),context:2,pinned:Boolean(sn)},Vn="User"===(null==M?void 0:M.__typename)&&c.collection?c.collection:c.creator,Hn="User"===(null==M?void 0:M.__typename)?cn:sn,zn="number"==typeof(0,I.LI)(Rn.paragraphs).titleIndex?void 0:40,Gn=f.createElement(f.Fragment,{key:"card-byline-and-mixtape"},Ee&&c.creator?f.createElement(he,{creator:c.creator,collection:c.collection,href:Ke,datePrefix:Dn,publishedAt:Bn,showStar:!!Xe,showPinned:ue&&!!Hn,post:c,showPublisherInfo:fe}):Vn&&f.createElement(V.u_,{publisher:Vn,hideAuthor:X,href:Ke,isOneLine:!0,datePrefix:Dn,publishedAt:Bn,showStar:!!Xe,showPinned:ue&&!!Hn,post:c}),de&&f.createElement(b.hM,{inResponseToCatalogResult:gn,inResponseToPostResult:mn,inResponseToMediaResource:pn,padding:"24px 0 0",postPreviewMarginBottom:zn})),Kn=Rn.paragraphs[0]&&an.includes(Rn.paragraphs[0].type)&&Rn.paragraphs[0].name,$n=Rn.paragraphs[1]&&tn.includes(Rn.paragraphs[1].type)&&Rn.paragraphs[1].name,qn=M||c.creator,Yn=!(Mn||Be||Pe||!dn||!qn),Qn=Xe&&(2===Rn.paragraphs.length||3===Rn.paragraphs.length)&&1===Tn.sections.length&&$n&&Kn,Jn=Rn.paragraphs[0],Xn=Rn.paragraphs[1],Zn={insertType:"BYLINE",order:"before",component:Gn},et={insertType:"MEDIA_OVERLAY",order:"after",component:f.createElement(j,{key:"shortform-media-overlay-insert",href:Ke,onReadMore:Nn})},nt=null!=Xn&&Xn.name&&null!=Jn&&Jn.name?(o={},r()(o,Xn.name,[Zn]),r()(o,Jn.name,[et]),o):{},tt=Qn&&!Be,it=!pe||Be;return f.createElement($.cW,{source:je},f.createElement(C.x,a()({ref:Se,boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},v?{}:jn),f.createElement(z.P,{size:xe},Ln,f.createElement(q.o,{post:c,presentationContext:"POST_PREVIEW",isDisplayingFullPost:Mn||Be,suppressedEvents:Mn?"VIEWED":void 0,shouldReportClientViewed:Be,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!sn},f.createElement(C.x,{sm:{marginTop:Ln?Qn?"48px":"24px":void 0},marginTop:Ln?Qn?"72px":"24px":void 0},Vn&&!Qn&&Gn,Ee&&Be&&f.createElement(se,{expansionRef:Se}),f.createElement(C.x,{marginTop:Qn?"":"12px",ref:$e},f.createElement(ne.O1,{event:{eventName:"post.permalinkClicked",data:Ye(Ye({},Wn),{},{interfaceElement:"title"})}},f.createElement(Ge,{post:c,reason:ge,publisherContext:null===(l=c.creator)||void 0===l?void 0:l.__typename,showPreview:pe,showContent:Pe||Be,onReadMore:Nn,onHoverReadMore:Cn},f.createElement(f.Fragment,null,f.createElement(P.bl,{isAuroraPostPageEnabled:!0,post:Be?Te:null,inlinePost:c,ref:ye,richTextStyle:tt?"SHORTFORM_CARD":"INLINE",postBodyInserts:tt?nt:null,markedUpBodyModel:Rn}),Pe&&f.createElement(C.x,{paddingTop:"24px"},f.createElement(T,null))))))),Yn&&!pe&&f.createElement(G.D,{onMouseEnter:Cn,onMouseLeave:function(){}},f.createElement(U,{onReadMore:Nn,post:c,padding:Qn?"24px 0 0 0":void 0})),Te&&Pn&&f.createElement(S.cu,{post:Te,meteringInfo:Pn,excludePadding:!0}))),f.createElement(C.x,{marginTop:pe&&!Be?void 0:"36px"}),c&&it&&f.createElement(E.T,{isDockingEnabled:Ee&&Be,maxWidthSize:xe},f.createElement(Ae,{post:c,publisherContext:null===(s=c.creator)||void 0===s?void 0:s.__typename,isActiveExpandedPost:Be})),pe&&Be&&f.createElement(C.x,{paddingBottom:"32px"})),R&&f.createElement(z.P,{size:xe},Un))}},55001:(e,n,t)=>{"use strict";t.d(n,{U:()=>s});var i=t(319),a=t.n(i),o=t(66921),r=t(56029),l=t(39186),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TruncatedPostCardOverflowButton_post"}}]}}].concat(a()(o.B.definitions),a()(r.z.definitions),a()(l.r.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighDensityFooter_post"}}]}}].concat(a()(d.definitions))}},21204:(e,n,t)=>{"use strict";t.d(n,{q:()=>r});var i=t(319),a=t.n(i),o=t(88833),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadMore_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(a()(o.u.definitions))}},32149:(e,n,t)=>{"use strict";t.d(n,{$:()=>c,G:()=>u});var i=t(28655),a=t.n(i),o=t(71439),r=t(53976),l=t(76532),d=t(32589);function s(){var e=a()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return s=function(){return e},e}var c=function(e,n){var t,i,a=(0,l.H)().value,o=(0,d.Pd)(n).viewerEdge,s=(0,r.VB)({name:e,placeholder:!1}),c=null!==(t=null==a?void 0:a.mediumMemberAt)&&void 0!==t&&t,u=null==o?void 0:o.isAllowEdsEnabled,m=null!==(i=null==o?void 0:o.isUser)&&void 0!==i&&i;return!!n&&(u&&!(null!=a&&a.id)||u&&m||!!s&&u&&!c)},u=(0,o.Ps)(s())},14071:(e,n,t)=>{"use strict";t.d(n,{E:()=>m,U:()=>p});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(49549),d=t(32272),s=t(42933),c=t(51512);function u(){var e=a()(["\n  fragment SharePostButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    mediumUrl\n    ...SharePostButton_post\n  }\n  ","\n"]);return u=function(){return e},e}var m=(0,o.Ps)(u(),d.o);function p(e){var n=e.post,t=e.source,i="UNLISTED"===n.visibility;return r.createElement(r.Fragment,null,r.createElement(c.cW,{source:{name:t}},r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"TWITTER",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"FACEBOOK",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n})),r.createElement(s.x,{flexGrow:"0",paddingRight:"1px"},!i&&r.createElement(d.f,{socialPlatform:"LINKEDIN",buttonStyle:n.isLimitedState?"LINK_DISABLED":"LINK",post:n}))),r.createElement(s.x,{flexGrow:"0"},!i&&n.mediumUrl&&r.createElement(l._,{url:n.mediumUrl,copyStyle:n.isLimitedState?"ICON_DISABLED":"ICON",source:t,postId:n.id})))}},37258:(e,n,t)=>{"use strict";t.d(n,{o:()=>x});var i=t(63038),a=t.n(i),o=t(28655),r=t.n(o),l=t(71439),d=t(80439),s=t(67294),c=t(66893),u=t(36511),m=t(90738),p=t(14414),g=t(95760),v=t(51512),f=t(11348),k=t(67297);function E(){var e=r()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return E=function(){return e},e}var h=(0,l.Ps)(E()),x=function(e){var n=e.actionUrl,t=e.children,i=e.onSuccess,o=e.token,r=e.userId,l=(0,g.Av)(),E=!!(0,c.P5)("skip_sign_in_recaptcha"),x=s.useState(!1),y=a()(x,2),S=y[0],b=y[1],w=(0,k.v9)((function(e){return e.navigation.currentLocation})),I=function(){b(!1)},P=(0,v.pK)(),N=(0,v.hp)(),C=n&&o?(0,p.hQ)(w,P,N,n,o):(0,p.hQ)(w,P,N),_=(0,u.r)(),F=_.loading,A=_.error,T=_.viewerId;return F||A?null:s.createElement(d.mm,{mutation:h,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":l.event("site.loginLinkSent",{}),i&&i();break;case"FailedChallenge":l.event("site.loginByEmailCaptchaFailure",{}),b(!1);break;case"BadRequest":case"NotFound":default:I()}},onError:I},(function(e){var n=function(n){(0,f.Zs)(!0,T,r,"Email",!1);var t="medium";l.event("susi.methodClicked",{entryPoint:N,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:r,alternateUserSuggestionSourceUserId:T}),e({variables:{userId:r,redirect:C,captchaValue:n}})};return s.createElement(s.Fragment,null,!E&&s.createElement(m.k,{callback:n,shouldExecuteRecaptcha:S}),t({handleSubmit:function(){return E?n(null):b(!0)}}))}))}},19608:(e,n,t)=>{"use strict";t.d(n,{r:()=>d});var i=t(67294),a=t(90174),o=t(4134),r=t(70146),l=t(37581),d=function(e){var n=e.actionUrl,t=e.token,d=e.userSocialLogins,s={actionUrl:n||"",operation:"login",token:t||"",targetUserId:d.userId,alternateUserSuggestion:!0};return i.createElement(l.$,{eventData:{operation:s.operation}},d.google?i.createElement(o.x,s):d.facebook?i.createElement(a.q,s):d.twitter?i.createElement(r.G,s):i.createElement(i.Fragment,null))}},27168:(e,n,t)=>{"use strict";t.d(n,{G:()=>p});var i=t(59713),a=t.n(i),o=t(67294),r=t(12291),l=t(76532),d=t(82318),s=t(51512),c=t(85277),u=t(67297);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var p=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,i=(0,u.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,s.hp)(),g=(0,r.I0)(),v=(0,l.H)(),f=v.loading,k=v.error,E=v.value;if(f||k)return o.createElement(o.Fragment,null);var h=function(e){return e?o.createElement(d.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):o.createElement(o.Fragment,null,"Not you?"," ",o.createElement(d.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",o.createElement(d.r,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},x=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),g((0,c.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!p&&{susiEntry:p})))};return i?h(E):E?o.createElement(d.r,{onClick:function(){return n()}},"Not me"):h(t)}},48881:(e,n,t)=>{"use strict";t.d(n,{o:()=>y});var i=t(28655),a=t.n(i),o=t(59713),r=t.n(o),l=t(63038),d=t.n(l),s=t(71439),c=t(80439),u=t(67294),m=t(76532),p=t(36511),g=t(95760),v=t(51512),f=t(33572),k=t(8403);function E(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return E=function(){return e},e}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){var n=e.children,t=e.postRenderCallback,i=(0,g.Av)(),a=(0,v.hp)(),o=(0,k.PM)(),r=(0,v.P7)(o||""),l=r.userId,s=r.name,E=u.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),h=d()(E,2),y=h[0],b=h[1];u.useEffect((function(){var e=y.shouldRun,n=y.showSuggestedAccount,i=y.userSocialLogins;e&&t(w,n,i)}),[y.shouldRun]);var w=(0,m.H)().value,I=(0,p.r)(),P=I.loading,N=I.error,C=I.viewerId;if(P||N)return null;var _=!("email"!==s||w&&w.mediumMemberAt||!l);return _&&l?u.createElement(c.AE,{query:S,variables:{userId:l}},(function(e){var o=e.loading,r=e.error,l=e.data,d=(l=void 0===l?{}:l).userSocialLogins,s=!(o||r||!d||w&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),c=x({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,f.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:C})}});return!t||o||y.shouldRun||b({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),n(c)})):(t&&!y.shouldRun&&b(x(x({},y),{},{shouldRun:!0})),n({showSuggestedAccount:_,loading:!1}))},S=(0,s.Ps)(E())},5731:(e,n,t)=>{"use strict";var i;t.d(n,{j:()=>i}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(i||(i={}))},58491:(e,n,t)=>{"use strict";t.d(n,{t:()=>E,W:()=>h});var i=t(28655),a=t.n(i),o=t(63038),r=t.n(o),l=t(71439),d=t(67294),s=t(12291),c=t(50188),u=t(95760),m=t(51512),p=t(27108),g=t(85277),v=t(8403),f=t(21146);function k(){var e=a()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return k=function(){return e},e}function E(e,n,t,i){var a=(0,u.Av)(),o=(0,m.pK)(),l=(0,v.he)(),k=d.useState(!1),E=r()(k,2),h=E[0],x=E[1],y=(0,s.I0)();d.useEffect((function(){if(!h&&t){var r=function(){if(n.current&&!h){var r=(0,f.L6)(n.current),d=(0,f.tM)(r),s=d.top+d.height,u=(0,f.tM)((0,f.t_)()),m=u.top+u.height,p=t.content.isLockedPreviewOnly,v=i||o.includes("post_page");if(!p&&m>=s-100&&v){x(!0),y((0,g.C2)(!0));var k={source:i?"post_page":o,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""},E={referrer:l,referrerSource:o};i?a.event("post.clientRead",k,E):a.event("post.clientRead",k),e||(0,c.T8)(t.id)}}};return p.V6.on("scroll_end",r),function(){p.V6.off("scroll_end",r)}}}),[h,t,i]),d.useEffect((function(){return function(){y((0,g.C2)(!1))}}),[])}var h=(0,l.Ps)(k())},2874:(e,n,t)=>{"use strict";t.d(n,{k1:()=>F,EA:()=>A,d0:()=>B,_k:()=>D});var i=t(28655),a=t.n(i),o=t(71439),r=t(67294),l=t(60046),d=t(62872),s=t(43689),c=t(51562),u=t(47578),m=t(71542),p=t(76532),g=t(62181),v=t(11852),f=t(75209),k=t(42933),E=t(55099),h=t(82318),x=t(98024),y=t(17614),S=t(95760),b=t(51512),w=t(67297),I=t(6522),P=t(96879),N=t(27952),C=t(61598);function _(){var e=a()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    ...userUrl_user\n  }\n  ","\n"]);return _=function(){return e},e}var F="f73713ca13c3",A="a2ace5bcce17",T="entity-driven-sub-landing-page",R=function(){return r.createElement(d.l,{borderColor:"rgb(230 230 230)",height:s.Je,heightSm:s.R2},r.createElement(f.P,null,r.createElement(k.x,{display:"flex",alignItems:"center",height:"".concat(s.Je,"px"),sm:{height:"".concat(s.R2,"px")},flexDirection:"row"},r.createElement(k.x,{justifySelf:"flex-start",flexGrow:"1"},r.createElement(l.Rv,{size:"S"})),r.createElement(O,null))))},O=function(){return(0,p.H)().value?null:r.createElement(k.x,{justifySelf:"flex-end"},r.createElement(x.F,{scale:"L"},r.createElement(k.x,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},r.createElement(k.x,{paddingRight:"4px"},"Already a member?"),r.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},B=function(e){var n,t,i=e.user,a=e.redirectExperiment,o=e.postId,l=(0,w.v9)((function(e){return e.config.authDomain})),d=(0,b.pK)(),s=(0,p.H)().value,g=(0,S.Av)();r.useEffect((function(){g.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==i?void 0:i.id,source:d})}),[]);var C=r.useCallback((function(){g.event("entityDrivenSubCallToAction.clicked",{userId:null==s?void 0:s.id,entityId:null==i?void 0:i.id})}),[i,null==s?void 0:s.id,l]);if(!i)return null;var _=null!==(n=i.name)&&void 0!==n?n:"",F=null!==(t=i.imageId)&&void 0!==t?t:I.gG,A=i.id,O=(0,N.AWr)(i,l),B=(0,P.Rk)((0,N.c5p)(l),{subscribeToUserId:A}),D=o?(0,N.o2w)(l,o):O,M=null!=s&&s.mediumMemberAt?O:B;return(0,u.KQ)({},_),r.createElement(r.Fragment,null,r.createElement(b.cW,{source:{name:"entity_driven_subscription",userId:A}},r.createElement(k.x,{display:"flex",height:"100vh",flexDirection:"column"},r.createElement(R,null),r.createElement(k.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},r.createElement(f.P,{size:"inset"},r.createElement(k.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},r.createElement(m.s,null,r.createElement(v.z,{miroId:F,alt:_||"",diameter:128,freezeGifs:!1})),r.createElement(m.e,null,r.createElement(v.z,{miroId:F,alt:_||"",diameter:80,freezeGifs:!1}))),r.createElement(k.x,{paddingBottom:"20px"},r.createElement(y.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},r.createElement(c.W,{featureString:T,target:"title-copy"},"Read every story from ",_," (and thousands of other writers on Medium)."))),r.createElement(k.x,{paddingBottom:"20px"},r.createElement(x.F,{scale:"L",color:"DARKER"},r.createElement(c.W,{featureString:T,target:"description-copy"},"Your membership fee directly supports ",_," and other writers you read. You'll also get full access to every story on Medium."))),r.createElement(k.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:a?"column-reverse":void 0,sm:a?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},a&&r.createElement(k.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},r.createElement(E.z,{href:D,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),r.createElement(k.x,null,r.createElement(E.z,{onClick:C,href:M,buttonStyle:"STRONG",size:"LARGE"},r.createElement(c.W,{featureString:T,target:"logged-in-button-copy"},"Become a member")))),!a&&r.createElement(x.F,{scale:"L",color:"DARKER",tag:"span"},r.createElement(h.r,{linkStyle:"SUBTLE",href:O},r.createElement(c.W,{featureString:T,target:"link-copy"},"Visit ",_,"'s profile"))))))))},D=(0,o.Ps)(_(),C.$)},33572:(e,n,t)=>{"use strict";function i(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}function a(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}t.d(n,{J:()=>i,S:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/284.ca62937b.chunk.js.map