(self.webpackChunklite=self.webpackChunklite||[]).push([[9030],{43915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=r.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"});const i=function(e){return r.createElement("svg",o({width:25,height:25},e),l)}},4743:(e,t,n)=>{"use strict";n.d(t,{LI:()=>p,k:()=>d,ZV:()=>f});var r=n(28655),o=n.n(r),l=n(71439),i=n(14391),a=n(50993);function s(){var e=o()(["\n  fragment GetDigestReferredCreatorPromoIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return u=function(){return e},e}function c(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return c=function(){return e},e}var p=function(e){for(var t=null,n=null,r=null,o=null,l=0;l<=e.length;l++){var i=e[l];if(!i)break;if(null!=t){"H4"===i.type&&(n=l),null===r&&"IMG"===i.type&&(r=l);break}if("H3"===i.type||"H2"===i.type)t=l;else{if(null!=o)break;if("H4"!==i.type){if("IMG"===i.type){null===r&&(r=l);continue}if("IFRAME"===i.type||"P"===i.type&&"string"==typeof i.text&&(0,a.vV)(i.text))continue;break}o=l}}return{titleIndex:t,subtitleIndex:n,bannerImageIndex:r}},d=(0,l.Ps)(c()),f=((0,l.Ps)(u()),function(e){for(var t=null,n=[],r=0;r<e.length;r++)v(e[r])&&(t||(t=r),r<e.length-1&&v(e[r+1])&&n.push(r));return 0===n.length?{index:t,ordering:"before"}:{index:n[Math.min(n.length-1,1)],ordering:"after"}}),v=function(e){return e.type===i.NJ.P&&"string"==typeof e.text&&!(0,a.vV)(e.text)};(0,l.Ps)(s())},21356:(e,t,n)=>{"use strict";n.d(t,{x:()=>H,S:()=>D});var r=n(28655),o=n.n(r),l=n(71439),i=n(67294),a=n(12291),s=n(42631),u=n(57288),c=n(17920),p=n(60002),d=n(41236),f=n(86654),v=n(88817),b=n(70162),m=n(3369),h=n(965),g=n(58006),C=n(76532),y=n(1932),E=n(324),x=n(62181),w=n(95760),S=n(51512),P=n(65347),k=n(67297),I=n(55573),O=n(27952);function F(){var e=o()(["\n  fragment MultiVote_post on Post {\n    id\n    clapCount\n    creator {\n      id\n      ...SusiClickable_user\n    }\n    isPublished\n    ...SusiClickable_post\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    ...MultiVoteCount_post\n  }\n  ","\n  ","\n  ","\n"]);return F=function(){return e},e}var T=function(e){var t,n=e.post,r=e.buttonStyle,o=e.hasDialog,l=e.shouldShowResponsiveLabelText,F=void 0!==l&&l,T=e.shouldHideClapsText,H=void 0!==T&&T,D=e.shouldHideClapsCount,R=void 0!==D&&D,j=e.susiEntry,L=e.verticalClapsText,M=void 0!==L&&L,A=(0,h.CP)(),V=(0,C.H)().value,N=null!==(t=null==V?void 0:V.id)&&void 0!==t?t:"",U=(0,y.T)(n).viewerEdge,_=(0,k.v9)((function(e){return e.config.authDomain})),G=(0,k.b$)((function(e){return e.multiVote.clapsPerPost})),z=(0,a.I0)(),Z=function(e){return z((0,P.at)(e))},q=(0,w.Av)(),B=(0,S.pK)(),J=(0,I.l)(G,n,U),K=J.clapCount,W=J.viewerClapCount,Y=J.viewerHasClappedSinceFetch,$=i.useCallback((function(){if(W&&W>=b.S2)return"Viewer exceeded authorized claps limit.";Z({postId:n.id,clapCount:K+1,viewerClapCount:W+1,viewerHasClappedSinceFetch:!0})}),[W,n.id,K]),Q=i.useCallback((function(){if(!W)return"Viewer did not clap.";A(n,N,-W,U),Z({postId:n.id,clapCount:K-W,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),q.event("post.clientUnvote",{postId:n.id,postIds:[n.id],unvoteCount:W,source:B})}),[W,n.id,K,N,U,B]),X=i.useCallback((function(e){A(n,N,e,U),q.event("post.clientUpvote",{postId:n.id,postIds:[n.id],voteCount:e,source:B})}),[n.id,N,U,B]),ee=(0,m.m)({onIncrementClaps:$,onUndoClaps:Q,onSubmitClapsAccumulated:X}),te=ee.clappedAt,ne=ee.onFloatEnd,re=ee.removeBurst,oe=ee.clap,le=ee.undoClaps,ie=ee.isPopping,ae=ee.isShowingViewerClapCount,se=ee.burstOffsets,ue=ee.onPopEnd;i.useEffect((function(){return function(){var e;e={postId:n.id},z((0,P.HQ)(e))}}),[]);var ce,pe=n.collection,de=n.creator,fe=n.id,ve=n.isPublished,be=n.isLimitedState,me=(ce=!(!de||de.id!==N),be?"This feature is temporarily disabled":ve?ce?"You cannot applaud your own story":void 0:"You cannot applaud a draft"),he=(0,b.wH)(r,F),ge=he.isObvious,Ce=he.isSubtleForDesktop,ye=he.alwaysShowClapsLabel,Ee=he.hasClapsLabel,xe=he.buttonScale,we=!!(W&&W>0),Se=!!(K&&K>0),Pe=pe&&pe.slug?(0,O.JLP)(_,pe.slug,fe):(0,O.kIi)(_,fe);return i.createElement(c.l,{isSubtleForDesktop:Ce,verticalClapsText:M},i.createElement(d.$,{isObvious:ge,buttonStyle:r,isSubtleForDesktop:Ce,disableReason:me},N||me?i.createElement(i.Fragment,null,ae&&i.createElement(E.N8,null,i.createElement(p.q,{count:W,clappedAt:te,placement:ge?"FAR":"NEAR",onFloatEnd:ne})),i.createElement(v.v,{isPopping:ie,onPopEnd:ue},i.createElement(u.d,{scale:xe,canUndo:we,isCircle:ge,isFilled:we,isUndoSuppressed:se.length>0,disableReason:me,onClickAndHold:oe,onUndo:le,shouldHideClapsText:H})),se.map((function(e){return i.createElement(s.P,{key:e,isLarge:ge,offset:e,onBurstEnd:re})}))):i.createElement(x.R9,{operation:"register",post:n,user:n.creator,actionUrl:Pe,susiEntry:j},i.createElement(u.d,{isCircle:ge,scale:xe}))),Se&&!R&&(!ae||ye)&&i.createElement(f.W,{buttonStyle:r,isSubtleForDesktop:Ce},i.createElement(g._,{shouldShowNetwork:ge,post:n,clapCount:K,showFullNumber:Y,hasLabel:Ee,hasDialog:o,shouldShowResponsiveLabelText:Ce||F,shouldHideClapsText:H})))},H=(0,l.Ps)(F(),x.qU,x.Vm,g.U),D=function(e){var t;return i.createElement(S.cW,{source:{postId:null===(t=e.post)||void 0===t?void 0:t.id},extendSource:!0},i.createElement(T,e))}},33819:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var r=n(59713),o=n.n(r),l=n(67294),i=n(42933),a=n(33914),s=n(98024),u=n(95760),c=n(51512),p=n(6688),d=n(43915),f=n(55459);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.allowResponses,n=e.responsesCount,r=e.handleClick,o=e.trackingData,v=e.isLimitedState,m=e.iconStylesOverride,h=e.countStylesOverride,g=e.svgSize,C=void 0===g?"L":g,y=e.responsesCountColor,E=void 0===y?"LIGHTER":y,x=e.disabledTooltipText,w=void 0===x?"":x,S=(0,p.I)(),P=(0,u.Av)(),k=(0,c.pK)();if(!t)return null;var I=function(e){return{fill:e.baseColor.fill.light,opacity:v?.4:1,cursor:v?"not-allowed":"pointer",":hover":{fill:v?void 0:e.baseColor.fill.lighter}}},O={opacity:v?.4:1},F="S"===C?l.createElement(d.Z,{"aria-label":"responses",className:S([I,m])}):l.createElement(f.Z,{"aria-label":"responses",className:S([I,m])}),T=l.createElement("button",{onClick:v?void 0:function(e){r(e),P.event("responses.viewAllClicked",b(b({},o),{},{source:k}))},className:S({cursor:"pointer",border:0,padding:0})},l.createElement(i.x,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(i.x,{display:"flex",alignItems:"center"},F,!!n&&l.createElement(s.F,{tag:"p",scale:"M",color:E},l.createElement("span",{className:S([h,O])},n))))),H=l.createElement(a._,{tooltipText:w||"This feature is temporarily disabled.",targetDistance:15},T);return l.createElement(l.Fragment,null,v?H:T)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9030.49b3bc13.chunk.js.map